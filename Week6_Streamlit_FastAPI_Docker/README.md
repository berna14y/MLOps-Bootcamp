# Churn Prediction API

## Project Overview

This project provides a comprehensive solution for predicting customer churn for a bank, utilizing a machine learning model. It features a FastAPI backend to handle API requests and a Streamlit frontend for interactive user input and predictions. The system assesses various customer details such as Credit Score, Geography, Gender, Age, Tenure, Balance, Number of Products, Credit Card status, Membership Activity, and Estimated Salary to predict churn.

### Installation

##### Creating the Environment
Create a new Conda environment to manage the project's dependencies:

conda create -n churn_api_env python=3.9
conda activate churn_api_env


##### Installing Dependencies

Install all required packages specified in the requirements.txt file:
pip install -r requirements.txt

### Project Files
Ensure that your project folder has the following files:

app.py: Streamlit application for user-friendly frontend interaction.
main.py: Contains the FastAPI application logic for backend processing.
models.py: SQLModel definitions for handling data.
train_churn_model.py: Script to train the churn prediction model.
requirements.txt: Lists all necessary Python libraries.
saved_models/churn_prediction_pipeline.pkl: The trained machine learning model. Update the path in main.py if located elsewhere.

### Usage

##### Running the Application
Start the FastAPI server with the following command:
uvicorn main:app --host 0.0.0.0 --port 8000 --reload

This command will host the API on the virtual machine's IP, making it accessible through the specified port.

##### Streamlit App
Launch the Streamlit application, which will interface with the FastAPI backend:
streamlit run app.py


##### Accessing the API Documentation
Once the server is running, the API documentation generated by FastAPI can be accessed via: http://<VM_IP>:8000/docs

Replace <VM_IP> with the actual IP address of your virtual machine if accessing from a different machine.

##### Interacting with the API
Follow the interactive documentation to try out the API. You can send a POST request to the endpoint /prediction/churn with JSON payload as specified in the documentation. Hereâ€™s an example payload:

{
  "CustomerId": 123456,
  "CreditScore": 650,
  "Geography": "France",
  "Gender": "Male",
  "Age": 34,
  "Tenure": 3,
  "Balance": 50000,
  "NumOfProducts": 2,
  "HasCrCard": 1,
  "IsActiveMember": 1,
  "EstimatedSalary": 60000
}

##### Testing the Streamlit App
Navigate to:
http://localhost:8501

Here you can interact with the UI, enter customer data, and make churn predictions directly.



You can find some examples from pdf in the file.